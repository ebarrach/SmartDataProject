{% extends "base.html" %}

{% block title %}Agenda{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="../static/css/agenda.css">
{% endblock %}

{% block content %}
<!-- En-tÃªte de la page -->
<div class="agenda-header">
    <h1>Mon agenda</h1>

    <!-- Bouton encodage -->
    <a href="/encodage" class="action-btn update-btn" id="btn-encodage" style="float:right; margin-top: -38px; position: relative;">
        Encoder une prestation
        <span id="badge-retard" style="display:none;">ðŸ””</span>
    </a>

    <!-- Connexion Outlook -->
    {% if not request.cookies.get("outlook_token") %}
        <a class="btn-connect-outlook" href="/outlook/connect">ðŸ”— Connecter mon compte Outlook</a>
    {% else %}
        <span class="connected-msg">ðŸ“¡ Outlook connectÃ©</span>
    {% endif %}
</div>

<!-- Conteneur principal de l'agenda -->
<div class="agenda-layout">

    <!-- Colonne gauche : mini calendrier -->
    <div class="calendar-sidebar">
        <h3>Mois</h3>
        <div id="mini-calendar"></div>
    </div>

    <!-- Colonne centrale : planning hebdomadaire -->
    <div class="calendar-main">
        <h3>Semaine en cours</h3>
        <div id="weekly-view">
            <!-- Colonnes dynamiques JS -->
        </div>
    </div>

    <!-- Colonne droite : tÃ¢ches -->
    <div class="task-sidebar">
        <h3>Mes tÃ¢ches</h3>
        <ul id="task-list">
            <!-- TÃ¢ches dynamiques JS -->
        </ul>
    </div>

</div>
{% endblock %}

{% block extra_js %}
<script src="../static/js/agenda.js"></script>
{% endblock %}
